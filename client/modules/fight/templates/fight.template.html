<div
    data-ng-controller="Fight as fight"
    >
    <h2>
        Fight
    </h2>
    <div
        style="border: 5px solid blue; padding: 10px; margin-bottom: 10px;"
        >
        <h3>
            <span
                data-ng-if="fight.interface.corner === 'blueCorner'"
                >
                (YOU ARE)
            </span>
            {{fight.interface.blueCorner.name}}
        </h3>
            ST: {{fight.interface.blueCorner.strength}} |
            DX: {{fight.interface.blueCorner.dexterity}} |
            HT: {{fight.interface.blueCorner.health}} |
            Boxing: {{fight.interface.blueCorner.boxing}} |
            HP: {{fight.interface.blueCorner.currentHitPoints}} |
            FP: {{fight.interface.blueCorner.currentFatiguePoints}} |
            Dodge: {{fight.interface.blueCorner.dodge}} |
            Parry: {{fight.interface.blueCorner.parry}} |
            Shock: {{fight.interface.blueCorner.shock}} |
            Retreats: {{fight.interface.blueCorner.retreats}} |
            Evaluate: {{fight.interface.blueCorner.evaluate}}
            <span
                data-ng-if="fight.interface.blueCorner.stunned"
                >
                |
                <span
                    style="
                        color: red;
                        font-weight: bold;
                    "
                    >
                    STUNNED
                </span>
            </span>
    </div>
    <div
        style="border: 5px solid red; padding: 10px; margin-bottom: 10px;"
        >
        <h3>
            <span
                data-ng-if="fight.interface.corner === 'redCorner'"
                >
                (YOU ARE)
            </span>
            {{fight.interface.redCorner.name}}
        </h3>
            ST: {{fight.interface.redCorner.strength}} |
            DX: {{fight.interface.redCorner.dexterity}} |
            HT: {{fight.interface.redCorner.health}} |
            Boxing: {{fight.interface.redCorner.boxing}} |
            HP: {{fight.interface.redCorner.currentHitPoints}} |
            FP: {{fight.interface.redCorner.currentFatiguePoints}} |
            Dodge: {{fight.interface.redCorner.dodge}} |
            Parry: {{fight.interface.redCorner.parry}} |
            Shock: {{fight.interface.redCorner.shock}} |
            Retreats: {{fight.interface.redCorner.retreats}} |
            Evaluate: {{fight.interface.redCorner.evaluate}}
            <span
                data-ng-if="fight.interface.redCorner.stunned"
                >
                |
                <span
                    style="
                        color: red;
                        font-weight: bold;
                    "
                    >
                    STUNNED
                </span>
            </span>
    </div>
    <div
        data-ng-if="fight.interface.winner"
        style="
            color: orange;
            border: 2px solid orange;
            font-size: 2em;
            font-weight: bold;
            padding: 10px;
            text-align: center;
        "
        >
        {{fight.interface.winner | uppercase}} WINS!
    </div>
<style>
@-webkit-keyframes red {
    0% {
        background-color: transparent;
        opacity:1;
    }
    50% {
        background-color: red;
    }
    100% {
        background-color: transparent;
    }
}
.redFlash{
  -webkit-animation-name: red;
    -webkit-animation-duration: 500ms;
    -webkit-animation-iteration-count: 1;
    -webkit-animation-timing-function: linear;
  -moz-animation-name: red;
    -moz-animation-duration: 500ms;
    -moz-animation-iteration-count: 1;
    -moz-animation-timing-function: linear;
}
@-webkit-keyframes green {
    0% {
        background-color: transparent;
        opacity:1;
    }
    50% {
        background-color: green;
    }
    100% {
        background-color: transparent;
    }
}
.greenFlash {
  -webkit-animation-name: green;
    -webkit-animation-duration: 500ms;
    -webkit-animation-iteration-count: 1;
    -webkit-animation-timing-function: linear;
  -moz-animation-name: green;
    -moz-animation-duration: 500ms;
    -moz-animation-iteration-count: 1;
    -moz-animation-timing-function: linear;
}
</style>
    <div
        data-ng-switch="fight.interface.state"
        >
        <div
            data-ng-switch-when="maneuver"
            data-ss-maneuver
            >
        </div>
        <div
            data-ng-switch-when="waitingManeuver"
            >
            <h3>
                Waiting Maneuver
            </h3>
        </div>
        <div
            data-ng-switch-when="activeDefense"
            data-ss-defense
            >
        </div>
        <div
            data-ng-switch-when="waitingActiveDefense"
            >
            <h3>
                Waiting Defense
            </h3>
        </div>
        <div
            data-ng-switch-when="waitingRise"
            >
            <h3>
                {{fight.interface[fight.interface.otherCorner].name}} is trying to rise.
                <span
                    style="
                        color: red;
                        font-weight: bold;
                    "
                    >
                    TRIES: {{fight.interface.riseTries}}.
                </span>
            </h3>
        </div>
        <div
            data-ng-switch-when="tryingToRise"
            >
            <h3>
                You are trying to rise.
                <span
                    style="
                        color: red;
                        font-weight: bold;
                    "
                    >
                    TRIES: {{fight.interface.riseTries}}.
                </span>
            </h3>
        </div>
        <div
            data-ng-switch-when="theEnd"
            >
            <h3>
                GAME OVER
            </h3>
        </div>
        <div
            data-ng-switch-when="watching"
            >
            <h3>
                Watching
            </h3>
        </div>
    </div>
    <hr>
    <div
        data-ng-repeat="step in fight.interface.steps track by $index"
        >
        <div
            data-ng-bind-html="step"
            >
        </div>
        <div
            data-ng-if="$index === 0"
            >
            <br>
            <br>
            ###
        </div>
        <br>
        <br>
    </div>
</div>
